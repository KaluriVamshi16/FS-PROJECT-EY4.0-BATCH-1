{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="dashboard-container">
    {% include 'includes/sidebar.html' %}
    <div class="main-content">
        <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h1>Transactions</h1>
            <a href="{% url 'add_transaction' %}" class="btn-primary"
                style="text-decoration: none; border-radius: 20px; padding: 8px 20px;">+ Add Transaction</a>
        </header>

        <div class="card" style="background: white; padding: 0; overflow: hidden;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead style="background: var(--bg-secondary);">
                    <tr>
                        <th style="padding: 15px; text-align: left;">Date</th>
                        <th style="padding: 15px; text-align: left;">Title</th>
                        <th style="padding: 15px; text-align: left;">Category</th>
                        <th style="padding: 15px; text-align: left;">Type</th>
                        <th style="padding: 15px; text-align: right;">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    {% for t in transactions %}
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 15px;">{{ t.date|date:"M d, Y" }}</td>
                        <td style="padding: 15px;">{{ t.title }}</td>
                        <td style="padding: 15px;">{{ t.cat_name }}</td>
                        <td style="padding: 15px;">
                            <span
                                style="padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; background: {% if t.type == 'credit' %}#e8f5e9{% else %}#ffebee{% endif %}; color: {% if t.type == 'credit' %}#2e7d32{% else %}#c62828{% endif %};">
                                {{ t.type|title }}
                            </span>
                        </td>
                        <td
                            style="padding: 15px; text-align: right; font-weight: bold; color: {% if t.type == 'credit' %}var(--accent-green){% else %}#d32f2f{% endif %};">
                            {% if t.type == 'credit' %}+{% else %}-{% endif %}â‚¹{{ t.amount }}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="5" style="padding: 30px; text-align: center; color: #666;">No transactions found.
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}